var Pe=Object.defineProperty;var Ht=Object.getOwnPropertyDescriptor;var Kt=Object.getOwnPropertyNames;var Xt=Object.prototype.hasOwnProperty;var Ie=(o,t)=>{for(var l in t)Pe(o,l,{get:t[l],enumerable:!0})},jt=(o,t,l,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of Kt(t))!Xt.call(o,e)&&e!==l&&Pe(o,e,{get:()=>t[e],enumerable:!(c=Ht(t,e))||c.enumerable});return o};var Zt=o=>jt(Pe({},"__esModule",{value:!0}),o);var Yn={};Ie(Yn,{default:()=>ht});module.exports=Zt(Yn);function fe(){let o=Array(64).fill().map(()=>Math.floor(Math.random()*16).toString(16));return"0x"+o.join("")}var $t=Math.pow(2,-32),ge=32557,Le=19605,ze=62509,Jt=22609,Qt=33103,en=63335,tn=31614,nn=5125;function He(o){let t=new De;return t.setSeed(o),t}var De=class{constructor(){this._state=new Uint16Array(4),this._dv=new DataView(this._state.buffer),this._nG=null,this._hNG=!1}setSeed(t){this._hNG=!1,this._nG=null;let l=~~((t.length-2)/2),c=[];for(let b=0;b<l;b++){let k=2+2*b;c.push(parseInt(t.slice(k,k+2),16))}let e=1690382925,d=72970470,f=qe(c,e),g=qe(c,d);this._dv.setUint32(0,f),this._dv.setUint32(4,g)}rnd(){let t=this._state,l=t[0],c=t[1],e=t[2],d=t[3],f=Qt+ge*l|0,g=en+ge*c+(Le*l+(f>>>16))|0,b=tn+ge*e+Le*c+(ze*l+(g>>>16))|0,k=nn+ge*d+(Le*e+ze*c)+(Jt*l+(b>>>16));t[0]=f,t[1]=g,t[2]=b,t[3]=k;let L=(d<<21)+((d>>2^e)<<5)+((e>>2^c)>>11),B=L>>>(d>>11)|L<<(-(d>>11)&31);return $t*(B>>>0)}uniform(t=1,l=null){return l===null&&([t,l]=[0,t]),this.rnd()*(l-t)+t}gauss(t=0,l=1){if(this._hNG){this._hNG=!1;var c=this._nG;return this._nG=null,t+l*c}else{var e=0,d=0,f=0;do e=this.rnd()*2-1,d=this.rnd()*2-1,f=e*e+d*d;while(f>=1||f===0);var g=Math.sqrt(-2*Math.log(f)/f);return this._nG=d*g,this._hNG=!0,t+l*(e*g)}}odds(t){return this.uniform()<=t}choice(t){return t[Math.floor(this.uniform(0,t.length))]}weightedChoice(t){let c=t.map(([,f])=>f).reduce((f,g)=>f+g,0)*this.uniform(),e=0;for(let f=0;f<t.length;f++){let[g,b]=t[f];if(e+=b,e>=c)return g}let[d]=t[t.length-1];return d}wc(t){return this.weightedChoice(t)}shuffle(t){let l=t.map(c=>[this.uniform(0,1),c]);return l.sort((c,e)=>c[0]<e[0]?-1:1),l.map(([,c])=>c)}winnow(t,l){let c=t.slice();for(;c.length>l;){let e=Math.floor(this.rnd()*c.length);c.splice(e,1)}return c}};function qe(o,t=0){for(var d=1540483477,f=o.length,g=t^f,b=0,k;f>=4;)k=o[b]&255|(o[++b]&255)<<8|(o[++b]&255)<<16|(o[++b]&255)<<24,k=(k&65535)*d+(((k>>>16)*d&65535)<<16),k^=k>>>24,k=(k&65535)*d+(((k>>>16)*d&65535)<<16),g=(g&65535)*d+(((g>>>16)*d&65535)<<16)^k,f-=4,++b;switch(f){case 3:g^=(o[b+2]&255)<<16;case 2:g^=(o[b+1]&255)<<8;case 1:g^=o[b]&255,g=(g&65535)*d+(((g>>>16)*d&65535)<<16)}return g^=g>>>13,g=(g&65535)*d+(((g>>>16)*d&65535)<<16),g^=g>>>15,g>>>0}function D(o){return Math.PI*o}function ne(o,t){return(o%t+t)%t}function U(o,t=null,l=null){return o=l!==null?Math.min(o,l):o,o=t!==null?Math.max(o,t):o,o}function _(o,t,l,c,e){let d=U(o,t,l),f=l-t,g=e-c;return c+(d-t)*(g/f)}function rn(o,t,l){return o+(t-o)*l}function on(o,t=1e3,l=1e-14,c=1e-7){if(o<0)throw new Error("Value must be non-negative.");let e=o;for(let d=0;d<t;d++){let f=e*e-o;if(Math.abs(f)<=c)return e;let g=2*e;if(g<=l)return e;e-=f/g}return e}function J(o,t,l,c){let e=o-l,d=t-c;return on(e*e+d*d)}function an(o,t){let l=Math.abs(t),c=Math.abs(o),e=Math.max(c,l),f=Math.min(c,l)/e,g=f*f,b=g*f,k=g*g,L=.024840285*k+.18681418,B=-.094097948*k-.33213072;return L=L*g+B,L=L*b+f,c>l&&(L=1.57079637-L),t<0&&(L=3.14159274-L),o<0&&(L=-L),L}function Ke(o,t,l){return c=>{c=ne(c-t,l-t)+t;let e=_(c,t,l,0,o.length-1),d=Math.floor(e),f=e-d,g=o[d],b=o[d+1];return rn(g,b,f)}}var ln=[1,.99179,.96729,.92692,.87132,.80141,.71835,.62349,.51839,.40478,.28453,.1596,.03205,-.09602,-.22252,-.34537,-.46254,-.57212,-.6723,-.76145,-.83809,-.90097,-.94906,-.98156,-.99795,-.99795,-.98156,-.94906,-.90097,-.83809,-.76145,-.6723,-.57212,-.46254,-.34537,-.22252,-.09602,.03205,.1596,.28453,.40478,.51839,.62349,.71835,.80141,.87132,.92692,.96729,.99179,1],Re=Ke(ln,0,2*Math.PI),sn=[0,.12788,.25365,.37527,.49072,.59811,.69568,.78183,.85514,.91441,.95867,.98718,.99949,.99538,.97493,.93847,.8866,.82017,.74028,.64823,.54553,.43388,.31511,.19116,.06407,-.06407,-.19116,-.31511,-.43388,-.54553,-.64823,-.74028,-.82017,-.8866,-.93847,-.97493,-.99538,-.99949,-.98718,-.95867,-.91441,-.85514,-.78183,-.69568,-.59811,-.49072,-.37527,-.25365,-.12788,-0],Oe=Ke(sn,0,2*Math.PI);function Xe(o,t,l,c){let e=an(c-t,l-o);return ne(e,D(2))}function je(o,t,l,c){let e=Math.abs(o-l),d=Math.abs(t-c),f=Math.min(e,d),g=Math.max(e,d),b=1007/1110,k=441/1110;return b*g+k*f}function Ze(o,t,l,c){let e=Math.abs(o-l),d=Math.abs(t-c),f=Math.min(e,d),g=Math.max(e,d),b=441/1024;return g+b*f}function Ve(o,t,l,c){return[o+c*Re(l),t+c*Oe(l)]}var un=27,cn=16,hn=1,$e=4,ve=class{constructor(t){this.seed=BigInt(t)}pluck(t){let l=BigInt(2**t-1),c=Number(this.seed&l);return this.seed=this.seed>>BigInt(t),c}decode(t){let l=Math.ceil(Math.log2(t.length)),c=this.pluck(l);return t[c%t.length]}};function dn(o){o=BigInt(o),o=o>>BigInt(un+hn);let t=BigInt(2**$e-1),l=Number(o&t);o=o>>BigInt($e);let c=BigInt(2**cn-1);return(o&c)===c?l:-1}var fn=[{value:"Horizontal",weight:3},{value:"Diagonal",weight:1},{value:"Vertical",weight:3},{value:"Random Linear",weight:1},{value:"Explosive",weight:1},{value:"Spiral",weight:4},{value:"Circular",weight:2},{value:"Random Radial",weight:1}];var gn=[{value:"None",weight:1},{value:"Low",weight:3},{value:"High",weight:1}];var mn=[{value:"None",weight:1},{value:"Crisp",weight:1},{value:"Wide",weight:2}];var pn=[{value:"Low",weight:2},{value:"Medium",weight:4},{value:"High",weight:3}];var wn=[{value:"Simple",weight:2},{value:"Stacked",weight:3},{value:"Zebra",weight:1}];var bn=[{value:"Orbital",weight:1},{value:"Formation",weight:1},{value:"Shadows",weight:1}];var kn=[{value:"Thin",weight:1},{value:"Thick",weight:2},{value:"Mixed",weight:2}];var se="On",Bn="Off",Ye=[{value:se,weight:1},{value:Bn,weight:1}];var Mn=[{value:"Constant",weight:1},{value:"Variable",weight:3},{value:"Wild",weight:1}];var Sn=[{value:"Small",weight:4},{value:"Medium",weight:3},{value:"Large",weight:1}];var xn=[{value:"Austin",weight:1},{value:"Berlin",weight:1},{value:"Edinburgh",weight:2},{value:"Fidenza",weight:2},{value:"Miami",weight:1},{value:"Seattle",weight:1},{value:"Seoul",weight:2}];var Cn=[{value:"Dense",weight:2},{value:"Medium",weight:1},{value:"Sparse",weight:1}];function Je(o){let t=new ve(o),l=t.decode(fn).value,c=t.decode(gn).value,e=t.decode(mn).value,d=t.decode(pn).value,f=t.decode(wn).value,g=t.decode(bn).value,b=t.decode(Ye).value,k=t.decode(Ye).value,L=t.decode(Ye).value,B=t.decode(kn).value,O=t.decode(Sn).value,T=t.decode(Mn).value,G=t.decode(xn).value,V=t.decode(Cn).value,E=dn(o);return{flowField:l,turbulence:c,margin:e,colorVariety:d,colorMode:f,structure:g,bullseyeRings1:b,bullseyeRings3:k,bullseyeRings7:L,ringThickness:B,ringSize:O,sizeVariety:T,colorPalette:G,spacing:V,version:E}}var Te={};Ie(Te,{austin:()=>rt,berlin:()=>at,edinburgh:()=>Qe,fidenza:()=>nt,miami:()=>ot,seattle:()=>et,seoul:()=>tt});var Ee={};function n(o,t,l,c,e={}){let d=yn(t,l,c,e,o);Ee[o]!=null,Ee[o]=d}function me(o){let t=Ee[o];if(t==null)throw new Error(`no color with name: ${o}`);return t}function yn(o,t,l,c,e){let d=[0,100],f=[0,100];return{name:e,hue:o,hueMin:o-2,hueMax:o+2,hueVariance:1,sat:t,satMin:U(t-2,...d),satMax:U(t+2,...d),satVariance:1,bright:l,brightMin:U(l-2,...f),brightMax:U(l+2,...f),brightVariance:1,alpha:100,...c}}function H(o){let t=l=>{let c=o.backgroundColors.map(([B,O,T])=>[{bgColor:me(B),substitutions:T??{}},O]),{bgColor:e,substitutions:d}=l.wc(c),f=B=>d[B]!==void 0?d[B]:B,g=o.colorSeq.map(f).filter(B=>B!=null).map(me),b=o.splatterColors.map(([B,O])=>[f(B),O]).filter(([B,O])=>B!=null);if(b.length===0)throw new Error("no splatter options for palette");let k=[],L=Math.max(1,Math.round(l.gauss(1.5,2)));for(let B=0;B<L;B++)k.push(me(l.wc(b)));return{colorSeq:g,bgColor:e,splatterColorPicker:()=>l.choice(k)}};return t.swatches=o.swatches.map(me),t.opts=o,t}n("eRed",8,88,87);n("eRed2",6,84,84);n("eRedOrange",15,88,87);n("eYellow",43,90,97,{hueMin:42,hueMax:44,hueVariance:.2,satMin:80,satMax:94,satVariance:2,brightMin:96,brightMax:98,brightVariance:.2});n("ePaleYellow",41,75,98,{hueVariance:.2,brightVariance:.2});n("ePaleYellow2",42,70,100,{hueVariance:.2,brightVariance:.2});n("eGrayBlue",200,45,40);n("eGrayBlue2",200,55,42);n("eGrayBlue3",205,55,42);n("ePink",5,40,95,{brightMin:94,brightMax:96,brightVariance:.5});n("ePink2",5,35,97,{satVariance:.3,brightVariance:.3});n("eBrown",30,35,35);n("eBrown2",25,45,25);n("eBrown3",27,40,30);n("eBrown4",28,37,25);n("eOrange",30,89,94,{hueVariance:.5,satVariance:.5,brightVariance:.5});n("eCoolDarkGreen",170,52,25);n("eCoolDarkGreen2",165,50,23);n("eMidGreen",150,60,35);n("eCream",40,4,96,{satVariance:.5,brightVariance:.5});n("eCream2",40,12,93,{satVariance:.5,brightVariance:.5});n("eYellowS",42,70,45,{hueVariance:.2,brightVariance:.2});n("eRedS",0,38,43);n("eGreenS",150,50,25);n("eBrownS",30,35,30);n("eBlueS",208,52,18);n("ePinkS",0,40,63);n("eGrayBlueS",200,45,40);n("Edinburgh Tan",35,25,82);n("Edinburgh Mid Brown",30,55,50);n("Edinburgh Dark Brown",28,40,18);n("Edinburgh Green",150,34,20);n("Edinburgh Blue",208,52,18);var Gn=H({swatches:["eCream","ePink","eRed","eGrayBlue","eBrown","eRedOrange","eOrange","eYellow","ePaleYellow","eCoolDarkGreen","eMidGreen"],colorSeq:["ePink","eRed","eCream","eCream","eGrayBlue","eGrayBlue","eBrown","eRedOrange","eOrange","eYellow","ePaleYellow","eCoolDarkGreen","eMidGreen","eGrayBlue","eCream"],backgroundColors:[["Edinburgh Tan",3,{ePaleYellow:null}],["Edinburgh Blue",2,{eBrown:"eBrown2",eCream:"eCream2"}],["Edinburgh Green",2,{eGrayBlue:"eGrayBlue2",eBrown:"eBrown3",eCream:"eCream2"}],["Edinburgh Dark Brown",2,{eCoolDarkGreen:null,eCream:"eCream2",eBrown:"eBrown4"}],["Edinburgh Mid Brown",1,{eBrown:"eBrown2",eCoolDarkGreen:"eCoolDarkGreen2",eGrayBlue:"eGrayBlue3",ePaleYellow:"ePaleYellow2",ePink:"ePink2",eRed:"eRed2"}]],splatterColors:[["ePink",.1],["eRed",.1],["eCream",.1],["eYellow",.1],["ePaleYellow",.1],["eGrayBlue",.1],["eBrown",.1],["eOrange",.1],["eCoolDarkGreen",.1],["eMidGreen",.1]]}),Qe=Gn;n("sMidBlue",210,50,55);n("sMidBlue2",210,50,50);n("sLightBlue",203,38,62);n("sLightBlue2",203,36,64);n("sYellow",41,82,95);n("sYellow2",41,82,90);n("sLightYellow",41,55,92);n("sLightYellowGreen",65,17,74);n("sSlate",55,12,70);n("sMidYellowGreen",70,20,55);n("sSand",40,14,85,{hueVariance:.2,brightVariance:.2,satVariance:.2});n("sDarkGreen",100,30,25);n("sDarkMidGreen",100,30,30);n("sDarkGrayBrown",80,15,15);n("sDarkGrayBrown2",80,20,18);n("sDarkBlue",210,40,20);n("sDarkBlue2",200,40,20);n("Seattle Warm Gray",45,12,80);n("Seattle Mid Blue",205,35,58);n("Seattle Dark Gray",80,15,10);var Pn=H({swatches:["sLightBlue","sMidBlue","sLightYellow","sYellow","sLightYellowGreen","sMidYellowGreen","sDarkGreen","sDarkMidGreen","sDarkGrayBrown","sDarkBlue","sSlate","sSand"],colorSeq:["sLightBlue","sMidBlue","sLightYellow","sYellow","sLightYellowGreen","sMidYellowGreen","sDarkGreen","sDarkMidGreen","sDarkGrayBrown","sDarkBlue","sSlate","sLightBlue","sMidBlue","sLightYellow","sLightYellowGreen","sMidYellowGreen","sSand","sDarkGreen","sDarkMidGreen","sDarkGrayBrown","sDarkBlue","sSlate"],backgroundColors:[["Seattle Warm Gray",1,{sLightYellow:null,sYellow:"sYellow2",sLightYellowGreen:null,sDarkBlue:"sDarkBlue2"}],["Seattle Mid Blue",1,{sMidYellowGreen:null,sMidBlue:"sMidBlue2",sLightBlue:"sLightBlue2"}],["Seattle Dark Gray",1.5,{sDarkGrayBrown:"sDarkGrayBrown2"}]],splatterColors:[["sYellow",1],["sLightBlue",1],["sMidBlue",1],["sLightYellowGreen",1]]}),et=Pn;n("slLightBlue",210,23,65);n("slMidBlue",215,45,58);n("slDarkBlue",215,75,25);n("slDarkBlue2",220,40,20);n("slDarkBlue3",215,65,35);n("slMidPink",352,43,83);n("slMidPink2",340,32,80);n("slLightPink",352,27,80);n("slLightPink2",335,27,80);n("slDarkGrayPurple",240,25,30);n("slLightPurple",320,18,58);n("slLightPurple2",290,24,58);n("slDarkGray",215,32,30);n("slDarkGray2",220,38,30);n("slDarkGray3",220,45,30);n("slOffWhite",40,1,85,{satVariance:.2,brightVariance:.2});n("slOffWhite2",40,1,80,{satVariance:.2,brightVariance:.2});n("slWarmWhite",35,10,78,{satVariance:.2,brightVariance:.2});n("Seoul Light Pink",0,15,84);n("Seoul Mid Blue",215,55,58);n("Seoul Dark Blue",218,70,30);n("Seoul Light Blue",210,41,75);n("Seoul Light Gray",40,1,80);n("Seoul Dark Gray",215,42,25);n("Seoul Mid Pink",0,40,80);var In=H({swatches:["slLightBlue","slMidBlue","slDarkGray","slMidPink","slLightPink","slWarmWhite","slLightPurple","slDarkGrayPurple","slDarkBlue"],colorSeq:["slLightBlue","slMidBlue","slDarkBlue","slMidPink","slLightPink","slDarkGrayPurple","slLightPurple","slDarkGray","slWarmWhite"],backgroundColors:[["Seoul Light Pink",3,{slLightPink:null,slWarmWhite:"slOffWhite"}],["Seoul Mid Blue",3,{slDarkBlue:"slDarkBlue3",slDarkGray:"slDarkGray3",slLightPurple:"slLightPurple2"}],["Seoul Dark Blue",2],["Seoul Light Blue",3,{slMidPink:"slMidPink2",slLightPink:"slLightPink2",slLightBlue:null,slLightPurple:"slLightPurple2"}],["Seoul Light Gray",4,{slWarmWhite:"slOffWhite"}],["Seoul Dark Gray",4,{slDarkGray:"slDarkGray2",slDarkBlue:"slDarkBlue2"}],["Seoul Mid Pink",1,{slMidPink:null,slLightBlue:null,slLightPurple:"slLightPurple2"}]],splatterColors:[["slMidBlue",1],["slMidPink",1],["slLightPink",1],["slWarmWhite",1]]}),tt=In;n("fDarkRed",358,64,86);n("fRed",358,80,82);n("fOrange",25,78,90);n("fPaleYellow",43,60,99);n("fYellow",43,90,99);n("fPink",11,35,97);n("fGreen",170,75,65);n("fPaleGreen",160,15,85);n("fPaleBlue",200,35,75);n("fBlue",210,65,55);n("fDarkBlue",220,65,35);n("fExtraDarkBlue",225,65,20);n("fBrown",25,45,33);n("fDarkBrown",25,45,23);n("fExtraDarkBrown",25,45,15);n("fNewsprint",40,12,88);n("Fidenza Newsprint",40,8,92);n("Fidenza Dark Blue",225,60,25);n("Fidenza Light Green",160,10,80);n("Fidenza Green",170,56,62);n("Fidenza Brown",25,43,18);n("Fidenza Pink",12,13,93);var Ln=H({swatches:["fDarkRed","fRed","fOrange","fPaleYellow","fYellow","fPink","fNewsprint","fPaleGreen","fGreen","fExtraDarkBlue","fDarkBlue","fBlue","fPaleBlue","fBrown","fDarkBrown","fExtraDarkBrown"],colorSeq:["fDarkRed","fRed","fNewsprint","fOrange","fPaleYellow","fYellow","fPink","fGreen","fPaleGreen","fExtraDarkBlue","fDarkBlue","fBlue","fPaleBlue","fBrown","fDarkBrown","fExtraDarkBrown"],backgroundColors:[["Fidenza Newsprint",6],["Fidenza Dark Blue",3],["Fidenza Light Green",2],["Fidenza Green",2],["Fidenza Brown",2],["Fidenza Pink",1]],splatterColors:[["fRed",1],["fYellow",1],["fGreen",1],["fBlue",1]]}),nt=Ln;n("aPeach",16,32,92);n("aPeach2",10,32,92);n("aPeach3",21,60,99);n("aPeach4",353,27,87);n("aPink",353,27,87);n("aMidBlue",205,85,70);n("aMidBlue2",203,64,73);n("aDarkBlue",215,78,50);n("aIndigo",225,60,45);n("aIndigo2",222,65,42);n("aAquamarine",185,55,60);n("aAquamarine2",175,55,63);n("aAquamarine3",180,67,62);n("aLightGreen",165,14,77);n("aYellow",45,80,94,{hueVariance:0,brightVariance:.5});n("aYellow2",45,77,91,{hueVariance:0,brightVariance:.5});n("aYellow3",47,73,91,{hueVariance:0,brightVariance:.5});n("aOrange",18,85,88,{hueVariance:0,brightVariance:.5});n("aOrange2",18,82,85,{hueVariance:0,brightVariance:.5});n("aOrange3",15,75,85,{hueVariance:0,brightVariance:.5});n("aOrange4",15,70,81,{hueVariance:0,brightVariance:.5});n("aDarkBrown",27,40,30);n("aDarkBrown2",35,25,25);n("aDarkBrown3",35,20,25);n("Austin White",40,4,88);n("Austin Green",175,70,60);n("Austin Yellow",45,50,99);n("Austin Blue",205,85,70);var Dn=H({swatches:["aMidBlue","aDarkBlue","aIndigo","aPink","aAquamarine","aLightGreen","aYellow","aOrange","aDarkBrown","aPeach"],colorSeq:["aPeach","aMidBlue","aDarkBlue","aIndigo","aPink","aAquamarine","aLightGreen","aYellow","aOrange","aDarkBrown"],backgroundColors:[["Austin White",1],["Austin Green",1,{aMidBlue:null,aAquamarine:null,aYellow:"aYellow3",aOrange:"aOrange4",aDarkBrown:"aDarkBrown3",aIndigo:"aIndigo2",aPeach:null}],["Austin Yellow",1,{aYellow:null,aPeach:null,aPink:null,aMidBlue:null}],["Austin Blue",1,{aMidBlue:null,aAquamarine:"aAquamarine3",aYellow:"aYellow3",aOrange:"aOrange3",aDarkBrown:"aDarkBrown3",aIndigo:"aIndigo2",aPeach:null}]],splatterColors:[["aPeach",1],["aPink",1],["aOrange",1],["aAquamarine",1],["aLightGreen",1],["aYellow",1]]}),rt=Dn;n("mPink",350,22,95);n("mPink2",335,14,95);n("mGreen",181,31,85);n("mPurple",245,40,73);n("mPurple2",255,46,53);n("mOrange",35,55,94,{satVariance:0,brightVariance:0});n("mBlue",205,64,85);n("mBlue2",215,50,87);n("mLightBlue",200,43,94);n("mLightBlue2",215,43,94);n("mTeal",179,38,75);n("mYellow",47,65,95,{hueVariance:.2,satVariance:0,brightVariance:.2});n("mYellow2",44,60,95,{hueVariance:.2,satVariance:0,brightVariance:.2});n("mWhite",218,0,88);n("Miami Rich Blue",215,75,75);n("Miami White",218,0,88);n("Miami Dark Purple",250,50,35);var Rn=H({swatches:["mWhite","mPink","mBlue","mLightBlue","mOrange","mYellow","mGreen","mPurple"],colorSeq:["mPink","mWhite","mBlue","mLightBlue","mOrange","mYellow","mGreen","mPurple","mPink","mWhite","mBlue","mLightBlue","mYellow","mGreen","mPink","mWhite","mBlue","mLightBlue","mYellow","mGreen"],backgroundColors:[["Miami White",6,{mWhite:null}],["Miami Rich Blue",3,{mGreen:null,mBlue:"mBlue2",mLightBlue:"mLightBlue2",mPink:"mPink2",mYellow:"mYellow2",mPurple:"mPurple2"}],["Miami Dark Purple",1]],splatterColors:[["mPink",1],["mWhite",1],["mYellow",1],["mTeal",1]]}),ot=Rn;n("bIntenseBlue",210,60,35);n("bIntenseBlue2",215,58,27);n("bIntenseBlue3",220,70,35);n("bIntenseBlue4",225,76,32);n("bIntenseBlueS",210,60,35);n("bIndigo",232,55,27);n("bIndigo2",230,60,27);n("bRed",8,88,65);n("bDarkRed",0,78,46);n("bDimOrange",30,83,90);n("bGrayPurple",345,45,25);n("bGrayPurple2",340,65,25);n("bGrayPurple3",330,52,17);n("bGrayPurple4",325,70,20);n("bGrayBlue",210,45,40);n("bGrayBlue2",220,52,50);n("bGrayBlue3",222,55,50);n("bCoolDarkGreen",175,52,25);n("bCoolDarkGreen2",175,60,25);n("bCoolDarkerGreen",180,64,15);n("bCoolMidGreen",170,45,40);n("Berlin Dark Green",175,52,8);n("Berlin Warm Purple",330,63,8);n("Berlin Cool Purple",255,60,17);n("Berlin Gray Blue",225,50,8);n("Berlin Intense Blue",230,95,15);var On=H({swatches:["bGrayBlue","bIntenseBlue","bDimOrange","bRed","bDarkRed","bIntenseBlue2","bIndigo","bCoolDarkGreen","bGrayPurple"],colorSeq:["bGrayBlue","bIntenseBlue","bRed","bDarkRed","bGrayBlue","bIntenseBlue","bIntenseBlue2","bIndigo","bDimOrange","bCoolDarkGreen","bGrayPurple","bIntenseBlue","bRed","bIntenseBlue","bIndigo","bDimOrange","bCoolDarkGreen"],backgroundColors:[["Berlin Dark Green",1,{bIndigo:"bIndigo2",bGrayPurple:"bGrayPurple2",bGrayBlue:"bGrayBlue2",bIntenseBlue:"bIntenseBlue3",bCoolDarkGreen:"bCoolDarkGreen2"}],["Berlin Gray Blue",1,{bGrayPurple:"bGrayPurple3",bIndigo:null}],["Berlin Cool Purple",1,{bGrayBlue:"bGrayBlue2",bIntenseBlue:"bIntenseBlue3",bGrayPurple:"bGrayPurple2"}],["Berlin Warm Purple",1,{bGrayBlue:"bGrayBlue3",bGrayPurple:"bGrayPurple4",bIntenseBlue:"bIntenseBlue4",bIndigo:"bIndigo2",bCoolDarkGreen:"bCoolDarkGreen2"}],["Berlin Intense Blue",1,{bGrayBlue:null,bIntenseBlue:null,bIndigo:"bIndigo2",bGrayPurple:"bGrayPurple4",bCoolDarkGreen:"bCoolDarkGreen2"}]],splatterColors:[["bRed",.1],["bGrayBlue",.2],["bGrayPurple",.1],["bDimOrange",.1],["bCoolDarkGreen",.1],["bCoolMidGreen",.1]]}),at=On;var _e={};Ie(_e,{default:()=>Vn,formation:()=>st,orbital:()=>it,shadows:()=>lt});function lt(o,t,l){let c=o.choice([5,7,10,20,30,60]),e=[],d=o.choice([0,.5,1]),f=o.odds(.5),g=o.odds(.5);function b(G,V){return J(G.x,G.y,V.x,V.y)<G.radius+V.radius}function k(G,V){let E=t(.02),j=t(.01),F=G.radius,r=[];for(;F>0;){let Y=F*D(2)/j,z=D(2)/Y;for(let Q=0;Q<D(2.01);Q+=z)r.push(Ve(G.x,G.y,Q,F));F-=E}return V&&r.reverse(),o.odds(.05)&&(r=o.shuffle(r)),r}function L(G){let V=o.wc([[t(.0075),.37],[t(.01),.35],[t(.02),.25],[t(.04),.02],[t(.08),.01]]),E=G.radius,j=E*E,F=[];for(let r=-E;r<E;r+=V)for(let Y=-E;Y<E;Y+=V){let z=f?G.x+r:G.x+Y,Q=f?G.y+Y:G.y+r,re=G.x-z,oe=G.y-Q;re*re+oe*oe<j&&F.push([z,Q])}return F}function B(G){return o.odds(d)?L(G):k(G,g)}let O=0;for(;e.length<c&&O++<1e3;){let G={x:o.uniform(t(0),t(1)),y:o.uniform(l(0),l(1)),radius:o.uniform(t(.05),t(.5))};e.every(V=>!b(G,V))&&e.push(G)}return e.map(B)}function it(o,t,l){let c=o.wc([[t(.01),3],[t(.02),2],[t(.04),1],[t(.06),1],[t(.08),1],[t(.16),.5]]),e=c*.5,d=o.wc([[t(.07),.333],[t(.15),.333],[t(.3),.333]]),f=o.wc([[t(.5),.3],[t(.333),.2],[t(.666),.2],[t(-.333),.1],[t(1.333),.1],[t(-1.6),.05],[t(1.6),.05]]),g=o.wc([[l(.5),.3],[l(.333),.2],[l(.666),.2],[l(-.333),.1],[l(1.333),.1],[l(-1.6),.05],[l(1.6),.05]]),b=l(-1/3),k=l(4/3),L=t(-1/3),B=t(4/3),O=([E,j])=>E>L&&E<B&&j>b&&j<k,T=t(.05)+Math.max(J(f,g,0,0),J(f,g,t(),0),J(f,g,t(),l()),J(f,g,0,l())),G=o.uniform(0,D(2)),V=[];for(let E=t(.001);E<T;E+=d){let j=o.choice([1,2,3]),F=D(2)/j;for(let r=G;r<G+D(2);r+=F){let Y=[];for(let z=E;z<E+d;z+=e){let re=z*D(2)/c,oe=Math.max(D(.005),D(2)/re);for(let ie=r;ie<r+F;ie+=oe){let ue=Ve(f,g,ie,z);O(ue)&&Y.push(ue)}}V.push(Y)}}return V}function st(o,t,l){let c=o.wc([[t(.0075),.37],[t(.01),.35],[t(.02),.25],[t(.04),.02],[t(.08),.01]]),e=o.wc([[1,.7],[2,.35],[3,.25],[4,.1],[5,.05],[7,.05]]),d=o.wc([[1,.4],[2,.35],[3,.25],[4,.1],[5,.05],[7,.05]]),f=t(1.2)/e,g=l(1.2)/d,b=o.wc([[0,.5],[.1,.3],[.2,.15],[.5,.05]]),k=[];for(let B=t(-.1);B<t(1.1);B+=f)for(let O=l(-.1);O<l(1.1);O+=g)k.push([B,O]);k=o.shuffle(k),k=k.filter((B,O)=>O===0||!o.odds(b));let L=[];for(let[B,O]of k){let T=[];for(let G=O;G<O+g;G+=c)for(let V=B;V<B+f;V+=c)T.push([V,G]);L.push(T)}return L}var Vn={orbital:it,shadows:lt,formation:st};function ut(o,t,l){let c=(l-t)/o;return function(e){let d=Math.floor((e-t)/c);return U(d,0,o-1)}}function ct(o,t,l,c,e){[t,l]=[Math.min(t,l),Math.max(t,l)];let d=ut(o,t,l);[c,e]=[Math.min(c,e),Math.max(c,e)];let f=ut(o,c,e);function g(){return Array(o).fill(null)}let b=null;return function*(L,B,O,T=!1){let G=d(L-O),V=d(L+O),E=f(B-O),j=f(B+O);if(b=b??(T?g():null),b)for(let F=G;F<=V;F++){let r=b[F]??(T?g():null);if(r){b[F]=r;for(let Y=E;Y<=j;Y++){let z=r[Y]??(T?[]:null);z&&(r[Y]=z,yield z)}}}}}function ht(o,t,l,c=!0){let e,d,f,g,b,k,L,B,O,T,G=c?console.log.bind(console):()=>{},V=2e3,E=2500,j=50,F=.05;o.setup=()=>{if(!t)throw new Error("need canvasWidth");f=t,g=t*1.25,b=f/V,o.pixelDensity(1),d=o.createCanvas(f,g),o.noLoop(),o.colorMode(o.HSB,360,100,100,100),k=V*-.2,L=V*1.2,B=E*-.2,O=E*1.2,T=Math.floor(V*.0025)};function r(a=1){return V*a}function Y(a=1){return E*a}function z(a,i){o.vertex(a*b,i*b)}function Q(a){o.strokeWeight(a*b)}async function re(a,i){for(let{x:u,y:s,theta:h,radius:p}of i){let M=u-p,S=u+p,m=s-p,R=s+p,P=Math.max(0,Math.floor((M-k)/T)),C=Math.min(a.length-1,Math.ceil((S-k)/T)),y=Math.max(0,Math.floor((m-B)/T)),w=Math.min(a[0].length-1,Math.ceil((R-B)/T));await l();for(let I=P;I<=C;I++){let N=k+T*I;for(let x=y;x<=w;x++){let q=B+T*x,K=J(u,s,N,q),Z=_(K,0,p,h,0);a[I][x]+=Z}}}}function oe(a,i,u,s){if(i!=="OUT"&&i!=="IN")throw new Error("bad direction");if(u!=="CCW"&&u!=="CW")throw new Error("bad rotation");let h=a/2;i==="OUT"&&(h=1-h),u==="CW"&&(h=2-h),h=D(h);let p=[],M=e.wc([[e.uniform(r(0),r(1)),2],[r(-2/3),.5],[r(-1/3),1],[r(0),1],[r(1/3),1.5],[r(1/2),1.5],[r(2/3),1.5],[r(1),1.5],[r(4/3),1],[r(5/3),.5]]),S=s!==1?void 0:.5,m=e.wc([[e.uniform(Y(0),Y(1)),2],[Y(-2/3),S],[Y(-1/3),1],[Y(0),1],[Y(1/3),1.5],[Y(1/2),1.5],[Y(2/3),1.5],[Y(1),1],[Y(4/3),1],[Y(5/3),.5]]),R=1e6;for(let P=k;P<L;P+=T){let C=[];for(let y=B;y<O;y+=T){let w=Xe(P,y,M,m);w!==w&&(w=0),C.push(w+h)}p.push(C)}return p}function ie(a){let i=[];for(let u=k;u<L;u+=T){let s=[];for(let h=B;h<O;h+=T)s.push(a);i.push(s)}return i}async function ue(a,i,u){let s;if(a.mode==="linear")s=ie(a.defaultTheta);else{let{circularity:S,direction:m,rotation:R}=a;s=oe(S,m,R,u)}await l();let h,p;switch(i){case"None":h=0,p=0;break;case"Low":h=e.wc([[10,2],[15,3],[20,2],[30,1]]),p=e.wc([[D(.005),1],[D(.01),1]]);break;case"High":h=e.wc([[20,1],[30,2],[40,3],[50,2],[60,1]]),p=e.wc([[D(.05),1],[D(.1),1],[D(.15),1]]);break;default:throw new Error("bad turbulence")}let M=[];for(let S=0;S<h;S++){let m=e.uniform(k,L),R=e.uniform(B,O),P=e.gauss(0,p),C=Math.max(r(.1),Math.abs(e.gauss(r(.35),r(.35))));M.push({x:m,y:R,theta:P,radius:C})}return await re(s,M),s}async function dt(a,i,u,s,h){let p=a.length,M=a[0].length,S=r(.002),m=[];for(let R=0;R<i.length;R++){R%64===0&&await l();let P=[],C=i[R][0],y=i[R][1];for(let w=0;w<u&&!(C<k||C>=L||y<B||y>=O);w++){let I=Math.floor((C-k)/T),N=Math.floor((y-B)/T),x=h?s:a[I][N];P.push([C,y]),C+=S*Re(x),y+=S*Oe(x)}m.push(P)}return m}function ce(a,i){let u=e.wc([[1,.64],[2,.24],[3,.1],[4,.02]]);e.odds(.5)&&(u*=-1);let s=ne(i+u,a.length),h=a[s];return[s,h]}function ft(a,i,u,s,h){let p=Math.max(r(2e-4),u-s*.5);Q(s*.95);let M=Math.min(r(.0015),p*h),S=e.gauss(p,M),m=e.gauss(p,M),R=e.uniform(0,D(2)),P=Math.max(8,p*D(2)/r(5e-4)),C=D(2)/P;o.beginShape();for(let y=0;y<D(2);y+=C){let w=a+S*Math.cos(y),I=i+m*Math.sin(y);z(w,I)}o.endShape(o.CLOSE)}function gt(a,i,u,s,h){let p;s>r(.02)?p=_(s,r(.02),r(.04),r(21e-5),r(22e-5)):s>r(.006)?p=_(s,r(.006),r(.02),r(15e-5),r(21e-5)):s>r(.003)?p=_(s,r(.003),r(.006),r(12e-5),r(15e-5)):p=_(s,0,r(.006),r(16e-5),r(12e-5));let M=Math.max(1,s/p);for(let S=0;S<M;S++){let m=_(S,0,M,u,u-s),R=h*_(s,r(.001),r(.04),.08,.03),P=h*Math.min(r(.0015),s*R),C=1;S<5&&(P*=1.5,C=2);let y=e.gauss(a,P),w=e.gauss(i,P),I;s>r(.02)?I=_(s,r(.02),r(.04),r(7e-4),r(73e-5)):s>r(.006)?I=_(s,r(.006),r(.02),r(5e-4),r(7e-4)):I=_(s,r(.001),r(.006),r(1e-4),r(5e-4));let N=C*_(s,r(.001),r(.04),.25,1.1),x=I*N;m<r(.002)&&(x=I*.1);let q=Math.max(r(2e-4),e.gauss(I,x));ft(y,w,m,q,.007)}}function pe(a,i,u,s,h,p,M,S){o.noFill();let m=M;u<_(p,.15,1,r(.0039),r(.001))?m=Math.min(1,m):u<_(p,.15,1,r(.0072),r(.0029))?m=Math.min(2,m):u<r(.01)?m=Math.min(3,m):u<r(.012)?m=Math.min(4,m):u<r(.014)?m=Math.min(5,m):u<r(.017)?m=Math.min(6,m):u<r(.02)?m=Math.min(7,m):u<r(.023)&&(m=Math.min(8,m));let R=u/m,P=Math.max(r(4e-4),R*(1-p)),C=_(p,.2,1,r(.0025),r(.04)),y=Math.max(0,Math.min(1,_(P,r(.001),C,1,0))),w=_(p,.1,1,.5,1.2),I=m>=7?w*_(m,7,9,.008,.005):w*_(m,1,7,.022,.008),N=0;for(let x=u;x>r(4e-4);x-=R){N%2===0?o.stroke(...s):o.stroke(...h),N++;let q=e.gauss(a,Math.min(r(5e-4),x*I)),K=e.gauss(i,Math.min(r(5e-4),x*I)),Z=_(p,.1,1,.01,.13),$=e.gauss(P,P*Z);x<r(.002)&&m===1&&($=_(p,0,1,x,x*.25)),m===1&&u>r(.02)&&($=_($,r(.003),r(.08),r(.003),r(.05)),$=Math.min(_(u,0,r(.1),r(.003),r(.04)),$,r(.04))),gt(q,K,x,$,w)}}function we(a,i,u,s){for(let h of s(a,i,u))for(let[p,M,S]of h)if(je(a,i,p,M)<=u+S&&(Ze(a,i,p,M)<=u+S||J(a,i,p,M)<=u+S))return!0;return!1}function be(a,i,u,s,h){return!(a-u<s||a+u>=r()-s||i-u<s||i+u>Y()-h)}function mt(a,i,u,s){return be(a,i,u,r(.003),r(.003))&&!we(a,i,u,s)}function pt(a,i,u,s){return be(a,i,u,r(.07),r(.08))&&!we(a,i,u,s)}function wt(a,i,u,s){return be(a,i,u,r(-.05),r(-.05))&&!we(a,i,u,s)}function bt(a,i,u,s){for(let h of s(a,i,u,!0))h.push([a,i,u])}function kt(){let a=e.uniform(r(-.1),r(1.1)),i=e.uniform(Y(-.1),Y(1.1));return[a,i]}function ke(a,i){let{hue:u,hueVariance:s,hueMin:h,hueMax:p,name:M}=a;i.add(M);let S=ne(U(e.gauss(u,s),h,p),360),{sat:m,satVariance:R,satMin:P,satMax:C}=a,y=U(e.gauss(m,R),P,C),{bright:w,brightVariance:I,brightMin:N,brightMax:x}=a,q=U(e.gauss(w,I),N,x);return[S,y,q,a.alpha]}function Ne(a,i){let{hueVariance:u,hueMin:s,hueMax:h}=i,p=ne(U(e.gauss(a[0],u),s,h),360),{satVariance:M,satMin:S,satMax:m}=i,R=U(e.gauss(a[1],M),S,m),{brightVariance:P,brightMin:C,brightMax:y}=i,w=U(e.gauss(a[2],P),C,y);return[p,R,w,i.alpha]}async function Bt(a,i,u,s,h,p,M,S,m,R,P,C,y){e.odds(p)&&S.change();let w=S.gen(),I=i,N=s[I],x=ke(N,y),q=u,K=h[q],Z=ke(K,y),$=R,Be=[],Me=0,Se=0;for(let xe of a){Se++%64===0&&await l();for(let X of xe){let[te,he]=X,ae=M.multiplier;w>r(.015)&&(ae=Math.max(1.02,ae));let le=w*ae+M.constant;if(le=Math.max(w*.75,le),P(te,he,le,C)){bt(te,he,le,C),Me++,x=Ne(x,N),Z=Ne(Z,K);let ye={point:X,scale:w,color:x,colorIdx:I,secondaryColor:Z,bullseyeSpec:$};Be.push(ye)}}if(S.change(),e.odds(p)){let X=ce(s,I);I=X[0],N=X[1],$=m()}if(e.odds(p)){let X=ce(h,q);q=X[0],K=X[1]}}return Be}async function Mt(a,i,u,s,h,p,M,S,m,R,P){let C=Math.floor(e.uniform(0,i.length)),y=Math.floor(e.uniform(0,u.length)),w=S(),I=0,N=0,x=[];for(let q of a){await l(),I++,e.odds(h)&&(C=ce(i,C)[0],y=ce(u,y)[0],w=S());let K=await Bt(q,C,y,i,u,s,p,M,S,w,m,R,P);x=x.concat(K)}return x}async function St(a,i,u,s,h,p,M,S){let m=0,R=0,P=[],C=0,y=0;M==="Stacked"&&(C=e.gauss(0,r(.0013)),y=Math.abs(e.gauss(0,r(.0013))));for(let w of a){m+=1,m%2===0&&await l();let[I,N]=w.point,x=Math.pow(_(J(I,N,i,u),0,r(1.4),1,0),2.5);e.odds(h*x)&&P.push(w),M=="Stacked"&&pe(I+C,N+y,w.scale,w.secondaryColor,w.secondaryColor,w.bullseyeSpec.density*e.gauss(.99,.03),w.bullseyeSpec.rings,p),pe(I,N,w.scale,w.color,M=="Zebra"?w.secondaryColor:w.color,w.bullseyeSpec.density,w.bullseyeSpec.rings,p)}for(let w of P){let[I,N]=w.point,x=ke(s(w.scale),S);pe(I,N,w.scale,x,x,Math.max(.17,w.bullseyeSpec.density*.7),w.bullseyeSpec.rings,p)}}let ee=[r(.0018),r(.0025)],A=[r(.003),r(.004),r(.006)],v=[r(.012),r(.017),r(.023),r(.048)],W=[r(.1),r(.15),r(.2),r(.3)];function xt(a){if(a==null||a!==a||a===0)throw new Error("bad scale");return{gen:()=>e.gauss(a,Math.min(r(.01),a*.05)),change:()=>{}}}function Ct(a){let i=e.wc(a);return{gen:()=>e.gauss(i,Math.min(r(.035),i*.15)),change:()=>{i=e.wc(a),i=e.gauss(i,i*.1)}}}function yt(a,i){let u=a;return{gen:()=>e.gauss(u,u*.3),change:()=>{u=e.wc(i),u=e.gauss(u,u*.3)}}}function Gt(a,i){let u=`${i}-${a}`,s,h;switch(u){case"Constant-Small":s=[[ee[1],2],[A[0],3],[A[1],2],[A[2],1]];break;case"Constant-Medium":s=[[v[0],2],[v[1],3],[v[2],2],[v[3],1]];break;case"Constant-Large":s=[[W[0],3],[W[1],2],[W[2],1]];break;case"Variable-Small":s=[[ee[1],1.3],[A[0],2],[A[1],5],[A[2],8],[v[0],3]];break;case"Variable-Medium":s=[[A[2],2],[v[0],8],[v[1],8],[v[2],13],[v[3],8],[W[0],5]];break;case"Variable-Large":s=[[v[1],.5],[v[2],2],[v[3],2],[W[0],5],[W[1],8],[W[2],8],[W[3],4]];break;case"Wild-Small":h=[A[1],A[2],v[0],v[1],v[2]],s=[[ee[0],3],[ee[1],3],[A[0],3],[A[1],4],[A[2],4],[v[0],3],[v[1],3],[v[2],3]];break;case"Wild-Medium":h=[A[2],v[0],v[1],v[2],v[3],W[0],W[1]],s=[[ee[0],1],[ee[1],1],[A[0],1],[A[1],1],[A[2],2],[v[0],3],[v[1],3],[v[2],3],[v[3],3],[W[0],2],[W[1],2],[W[2],1]];break;case"Wild-Large":h=[W[0],W[1],W[2],W[3]],s=[[ee[0],1],[ee[1],1],[A[0],1],[A[1],1],[A[2],1],[v[0],1],[v[1],1],[v[2],1],[W[0],2],[W[1],5],[W[2],5],[W[3],5]];break}switch(i){case"Constant":return xt(e.wc(s));case"Variable":return Ct(s);case"Wild":return yt(e.choice(h),s)}}function Pt(a,i){let u,s;switch(i){case"Thin":s=.85,u=.15;break;case"Thick":s=.28,u=.1;break;case"Mixed":s=.7,u=1;break}let h=_(u,0,1,1,.35),p=1,M=a.length*2,S=[];for(;M>0&&p>.001;){let m=e.choice(a);S.push([m,p]),M-=1,p*=h}return()=>{let m=Math.max(.17,Math.min(.93,e.gauss(s,u/2)));return{rings:e.wc(S),density:m}}}function We(a,i){return Math.max(0,Math.min(1,a*i))}function It(a,i){switch(i){case"Shadows":switch(a){case"Low":return[e.gauss(.15,.15),e.uniform(-.004,.002)];case"Medium":return[e.gauss(.55,.2),e.uniform(.01,.01)];case"High":return[e.gauss(.9,.1),e.uniform(-.1,.2)]}case"Formation":switch(a){case"Low":return[e.gauss(.5,.2),e.uniform(-.002,.003)];case"Medium":return[e.gauss(.75,.2),e.uniform(-.005,.01)];case"High":return[e.gauss(.9,.1),e.uniform(-.1,.2)]}case"Orbital":switch(a){case"Low":return[e.gauss(.11,.08),e.uniform(-.002,.0015)];case"Medium":return[e.gauss(.25,.1),e.uniform(-.01,.01)];case"High":return[e.gauss(.7,.2),e.uniform(-.1,.2)]}}return[0,0]}async function Lt(a){let i={},u=a.version,s,h,p,M;switch(a.flowField){case"Horizontal":h=D(0),M="linear";break;case"Diagonal":h=D(.25),M="linear";break;case"Vertical":h=D(.5),M="linear";break;case"Random Linear":h=e.uniform(D(0),D(.5)),M="linear";break;case"Explosive":p=e.uniform(.2,.4),M="radial";break;case"Spiral":p=e.uniform(.4,.75),M="radial";break;case"Circular":p=Math.min(e.uniform(.75,1.02),1),M="radial";break;case"Random Radial":p=U(e.uniform(-.01,1.01),0,1),M="radial";break}switch(M){case"linear":e.odds(.5)&&(h=D(1)-h),e.odds(.5)&&(h+=D(1)),h=ne(h,D(2)),s={mode:"linear",defaultTheta:h};break;case"radial":let de=e.odds(.5)?"IN":"OUT",Ge=e.odds(.5)?"CCW":"CW";h=e.wc([[D(0),1],[D(.25),1],[D(.5),1]]),s={mode:"radial",circularity:p,direction:de,rotation:Ge,defaultTheta:h};break}let S=a.turbulence,m;switch(a.spacing){case"Dense":m={multiplier:Math.max(.98,e.gauss(1,.04)),constant:r(Math.max(0,e.gauss(0,.002)))};break;case"Medium":e.odds(.333)?m={multiplier:1.15+Math.max(0,e.gauss(0,.2)),constant:r(Math.max(0,e.gauss(0,.001)))}:e.odds(.5)?m={multiplier:e.uniform(1,1.03),constant:r(.003)+r(Math.max(0,e.gauss(0,.005)))}:m={multiplier:1.05+Math.max(0,e.gauss(0,.1)),constant:r(.002)+r(Math.max(0,e.gauss(0,.0015)))};break;case"Sparse":e.odds(.333)?m={multiplier:1.25+Math.max(0,e.gauss(0,.5)),constant:r(Math.max(0,e.gauss(0,.002)))}:e.odds(.5)?m={multiplier:e.uniform(1.01,1.08),constant:r(.008)+r(Math.max(0,e.gauss(0,.02)))}:m={multiplier:1.15+Math.max(0,e.gauss(0,.3)),constant:r(.005)+r(Math.max(0,e.gauss(0,.006)))};break}let[R,P]=It(a.colorVariety,a.structure),C=1;switch(a.ringSize){case"Small":C=.5;break;case"Large":C=1.1;break}let y=1;switch(a.spacing){case"Medium":y=1.1;break;case"Sparse":y=2;break}let w=C*y;R=We(R,w),P=We(P,w);let I=Gt(a.ringSize,a.sizeVariety),N=_e[a.structure.toLowerCase()],x=[];a.bullseyeRings1===se&&x.push(1),a.bullseyeRings3===se&&x.push(3),a.bullseyeRings7===se&&x.push(7),x.length===0&&x.push(2);let q=Pt(x,a.ringThickness),K=wt;a.margin==="Crisp"?K=mt:a.margin==="Wide"&&(K=pt);let Z=Te[a.colorPalette.toLowerCase()](e),$=Z.splatterColorPicker,Be=Z.bgColor,{hue:Me,sat:Se,bright:xe,name:Fe}=Z.bgColor,Ce=[Me,Se,xe];o.background(...Ce),i.backgroundColor=Fe;let X=[],te=[];switch(a.colorVariety){case"Low":X=[[0,4],[.001,2],[.002,2],[.005,2]],te=[[1,1],[2,3],[3,4],[4,5],[5,3]];break;case"Medium":X=[[0,3],[.002,2],[.005,2],[.01,1],[.03,1]],te=[[5,1],[6,2],[7,3],[8,5],[10,3],[15,2]];break;case"High":X=[[0,3],[.002,2],[.005,2],[.01,1],[.03,1],[.08,1],[.5,.05]],te=[[10,3],[12,4],[15,5],[20,3],[25,3]];break}let he=e.wc(te),ae=Z.colorSeq,le=e.winnow(ae,he),ye=e.wc(te),Dt=e.winnow(ae,ye),[Rt,Ot]=kt(),Vt=e.wc(X),Yt=await ue(s,S,u),vt=e.wc([[0,10],[.5,2],[.8,1],[.9,1]]),Et=N(e,r,Y),Tt=e.choice([500,650,850]),_t=Et,Nt=0,Ae=[];for(let de of _t){let Ge=e.odds(vt);Nt+=de.length;let qt=await dt(Yt,de,Tt,h,Ge);Ae.push(qt)}let Wt=-V*F,Ft=V+V*F,At=-E*F,Ut=E+E*F,zt=ct(j,Wt,Ft,At,Ut);i.colorsUsed=new Set;let Ue=await Mt(Ae,le,Dt,P,R,m,I,q,K,zt,i.colorsUsed);return i.numPoints=Ue.length,await St(Ue,Rt,Ot,$,Vt,Ce,a.colorMode,i.colorsUsed),i.numColors=i.colorsUsed.size,i.colorsUsed=Array.from(i.colorsUsed),i}o.draw=async a=>{await l(),a=a??fe(),e=He(a);let i=Date.now(),u=Je(a);G("Rendering seed",a,"with traits:",u);let s=await Lt(u);G("renderData:",s),await l();let h=Date.now();return G("Rendering took:",(h-i)/1e3),s}}
