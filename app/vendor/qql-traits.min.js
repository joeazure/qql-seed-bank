var _=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.prototype.hasOwnProperty;var ne=(t,e)=>{for(var n in e)_(t,n,{get:e[n],enumerable:!0})},oe=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ee(e))!te.call(t,r)&&r!==n&&_(t,r,{get:()=>e[r],enumerable:!(i=X(e,r))||i.enumerable});return t};var ie=t=>oe(_({},"__esModule",{value:!0}),t);var ve={};ne(ve,{ALL_TRAITS:()=>de,BULLSEYE_OFF:()=>B,BULLSEYE_ON:()=>g,BULLSEYE_RINGS:()=>he,BULLSEYE_RINGS_1:()=>f,BULLSEYE_RINGS_3:()=>O,BULLSEYE_RINGS_7:()=>E,COLOR_MODE:()=>G,COLOR_PALETTE:()=>Z,COLOR_VARIETY:()=>F,FLOW_FIELD:()=>C,MARGIN:()=>A,RING_SIZE:()=>H,RING_THICKNESS:()=>Y,SIZE_VARIETY:()=>D,SPACING:()=>W,STRUCTURE:()=>z,TURBULENCE:()=>U,encodeTraits:()=>we,extractTraits:()=>Se,fillTraits:()=>Ie});module.exports=ie(ve);function re(t,e){return(t%e+e)%e}function ce(t,e=null,n=null){return t=n!==null?Math.min(t,n):t,t=e!==null?Math.max(t,e):t,t}function se(t,e,n,i,r){let o=ce(t,e,n),c=n-e,s=r-i;return i+(o-e)*(s/c)}function le(t,e,n){return t+(e-t)*n}function M(t,e,n){return i=>{i=re(i-e,n-e)+e;let r=se(i,e,n,0,t.length-1),o=Math.floor(r),c=r-o,s=t[o],l=t[o+1];return le(s,l,c)}}var ae=[1,.99179,.96729,.92692,.87132,.80141,.71835,.62349,.51839,.40478,.28453,.1596,.03205,-.09602,-.22252,-.34537,-.46254,-.57212,-.6723,-.76145,-.83809,-.90097,-.94906,-.98156,-.99795,-.99795,-.98156,-.94906,-.90097,-.83809,-.76145,-.6723,-.57212,-.46254,-.34537,-.22252,-.09602,.03205,.1596,.28453,.40478,.51839,.62349,.71835,.80141,.87132,.92692,.96729,.99179,1],Oe=M(ae,0,2*Math.PI),ue=[0,.12788,.25365,.37527,.49072,.59811,.69568,.78183,.85514,.91441,.95867,.98718,.99949,.99538,.97493,.93847,.8866,.82017,.74028,.64823,.54553,.43388,.31511,.19116,.06407,-.06407,-.19116,-.31511,-.43388,-.54553,-.64823,-.74028,-.82017,-.8866,-.93847,-.97493,-.99538,-.99949,-.98718,-.95867,-.91441,-.85514,-.78183,-.69568,-.59811,-.49072,-.37527,-.25365,-.12788,-0],Ee=M(ue,0,2*Math.PI);var b=27,k=16,P=1,L=4,N=class{constructor(e){this.seed=BigInt(e)}pluck(e){let n=BigInt(2**e-1),i=Number(this.seed&n);return this.seed=this.seed>>BigInt(e),i}decode(e){let n=Math.ceil(Math.log2(e.length)),i=this.pluck(n);return e[i%e.length]}};function V(t){t=BigInt(t),t=t>>BigInt(b+P);let e=BigInt(2**L-1),n=Number(t&e);t=t>>BigInt(L);let i=BigInt(2**k-1);return(t&i)===i?n:-1}var h=[{value:"Horizontal",weight:3},{value:"Diagonal",weight:1},{value:"Vertical",weight:3},{value:"Random Linear",weight:1},{value:"Explosive",weight:1},{value:"Spiral",weight:4},{value:"Circular",weight:2},{value:"Random Radial",weight:1}];var C={name:"Flow Field Direction",key:"flowField",options:h},p=[{value:"None",weight:1},{value:"Low",weight:3},{value:"High",weight:1}],U={name:"Turbulence",key:"turbulence",options:p},d=[{value:"None",weight:1},{value:"Crisp",weight:1},{value:"Wide",weight:2}],A={name:"Margin",key:"margin",options:d},I=[{value:"Low",weight:2},{value:"Medium",weight:4},{value:"High",weight:3}],F={name:"Color Variety",key:"colorVariety",options:I},S=[{value:"Simple",weight:2},{value:"Stacked",weight:3},{value:"Zebra",weight:1}],G={name:"Color Mode",key:"colorMode",options:S},w=[{value:"Orbital",weight:1},{value:"Formation",weight:1},{value:"Shadows",weight:1}],z={name:"Structure",key:"structure",options:w},v=[{value:"Thin",weight:1},{value:"Thick",weight:2},{value:"Mixed",weight:2}],Y={name:"Bullseye Density",key:"ringThickness",options:v},g="On",B="Off",a=[{value:g,weight:1},{value:B,weight:1}],f={name:"1-Ring Bullseyes",key:"bullseyeRings1",options:a},O={name:"3-Ring Bullseyes",key:"bullseyeRings3",options:a},E={name:"7-Ring Bullseyes",key:"bullseyeRings7",options:a},he=[f,O,E],x=[{value:"Constant",weight:1},{value:"Variable",weight:3},{value:"Wild",weight:1}],D={name:"Size Variety",key:"sizeVariety",options:x},R=[{value:"Small",weight:4},{value:"Medium",weight:3},{value:"Large",weight:1}],H={name:"Ring Size",key:"ringSize",options:R},T=[{value:"Austin",weight:1},{value:"Berlin",weight:1},{value:"Edinburgh",weight:2},{value:"Fidenza",weight:2},{value:"Miami",weight:1},{value:"Seattle",weight:1},{value:"Seoul",weight:2}],Z={name:"Color Palette",key:"colorPalette",options:T},y=[{value:"Dense",weight:2},{value:"Medium",weight:1},{value:"Sparse",weight:1}],W={name:"Spacing",key:"spacing",options:y},pe={flowField:h,turbulence:p,margin:d,colorVariety:I,colorMode:S,structure:w,ringThickness:v,ringSize:R,sizeVariety:x,colorPalette:T,spacing:y},de=[C,U,A,F,G,z,Y,f,O,E,D,H,Z,W];function Ie(t,e){let n={...t};for(let[c,s]of Object.entries(pe))if(t[c]==null){let l=e.wc(s.map(u=>[u.value,u.weight]));n[c]=l}let i=!1,r=0,o=[f.key,O.key,E.key];for(let c of o)t[c]==null&&(i=!0,n[c]=e.wc([[g,1],[B,1]])),n[c]===g&&r++;if(r===0&&i)for(let c of o)n[c]=g;return n}function Se(t){let e=new N(t),n=e.decode(h).value,i=e.decode(p).value,r=e.decode(d).value,o=e.decode(I).value,c=e.decode(S).value,s=e.decode(w).value,l=e.decode(a).value,u=e.decode(a).value,m=e.decode(a).value,K=e.decode(v).value,$=e.decode(R).value,q=e.decode(x).value,j=e.decode(T).value,J=e.decode(y).value,Q=V(t);return{flowField:n,turbulence:i,margin:r,colorVariety:o,colorMode:c,structure:s,bullseyeRings1:l,bullseyeRings3:u,bullseyeRings7:m,ringThickness:K,ringSize:$,sizeVariety:q,colorPalette:j,spacing:J,version:Q}}function we(t,e){let n=1,i=0,r=0n;function o(s,l){if(s==null)throw new Error(`trying to encode null option: ${l}`);let u=l.findIndex(m=>m.value===s);if(u===-1)throw new Error(`invalid option: ${s} (${l})`);r+=BigInt(u)<<BigInt(i),i+=Math.ceil(Math.log2(l.length))}if(o(e.flowField,h),o(e.turbulence,p),o(e.margin,d),o(e.colorVariety,I),o(e.colorMode,S),o(e.structure,w),o(e.bullseyeRings1,a),o(e.bullseyeRings3,a),o(e.bullseyeRings7,a),o(e.ringThickness,v),o(e.ringSize,R),o(e.sizeVariety,x),o(e.colorPalette,T),o(e.spacing,y),t=BigInt(t),t=t>>BigInt(32),t=t<<BigInt(32),t+=BigInt(r),n>7)throw new Error("invalid version");if(t+=BigInt(n)<<BigInt(b+P),t|=BigInt(2**k-1)<<BigInt(32),t="0x"+t.toString(16).padStart(64,"0"),V(t)!==n)throw new Error("verison encoding failed");return t}
